"use strict";(self.webpackChunksistema_inventario_cybercorp=self.webpackChunksistema_inventario_cybercorp||[]).push([[546],{546:(W,h,i)=>{i.r(h),i.d(h,{AccesoModule:()=>V});var b=i(6895),U=i(1469),s=i(433),_=i(9148),C=i(5127),d=i(6308),c=i(7155),t=i(4650),p=i(2340),Z=i(529),M=i(5657),O=i(2058);let x=(()=>{class e{constructor(o,r,a){this.httpClient=o,this.cookieService=r,this.interceptor=a,this.cantidadUsuario=0}obtenerUsuarios(){return this.httpClient.get(`${p.N.API_URL}/users/users/`,{headers:this.interceptor.getHeaders()})}agregarUsuario(o){return this.httpClient.post(`${p.N.API_URL}/users/users/`,o,{headers:this.interceptor.getHeaders()})}modificarEstadoUsuario(o,r){return this.httpClient.delete(`${p.N.API_URL}/users/users/${o}/`,{headers:this.interceptor.getHeaders(),params:{accion:r}})}getUser(){return this.cookieService.get("user")}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(Z.eN),t.LFG(M.N),t.LFG(O._))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i(7827),v=i(5358);let m=(()=>{class e{constructor(o,r,a,l){this.fb=o,this.usuarioService=r,this._alertServices=a,this.modalRef=l,this.form=this.formulario()}ngOnInit(){}registrar(){this.usuarioService.agregarUsuario(this.form.value).subscribe(r=>{this._alertServices.alertSucces("Usuario registrado"),this.form.reset(),this.modalRef.close(r)},r=>{this._alertServices.alertError("A ocurrido un error")})}setForm(){this.form.patchValue(this.usuarioEdit)}formulario(){return this.fb.group({nombre:["",s.kI.required],apellido:["",s.kI.required],username:["",s.kI.required],password:["",s.kI.required],usertype:["",s.kI.required]})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(s.qu),t.Y36(x),t.Y36(u.ml),t.Y36(v.rn))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog-users"]],decls:39,vars:6,consts:[["id","modelId","tabindex","-1","role","dialog","aria-labelledby","modelTitleId","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],["type","text","placeholder","Apellido","formControlName","apellido",1,"form-control"],["type","text","placeholder","Nombre Usuario","formControlName","username",1,"form-control"],["type","text","placeholder","Contrase\xf1a","formControlName","password",1,"form-control"],["formControlName","usertype",1,"form-control","mb-2"],["value","admin","selected",""],["value","asespr","selected",""],["value","contador","selected",""],[1,"d-grid","gap-1"],["type","submit",1,"btn",3,"disabled"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"USUARIO"),t.qZA(),t._UZ(6,"button",5),t.qZA(),t.TgZ(7,"div",6)(8,"form",7),t.NdJ("ngSubmit",function(){return r.registrar()}),t.TgZ(9,"div",8)(10,"label"),t._uU(11,"Nombre"),t.qZA(),t._UZ(12,"input",9),t.qZA(),t.TgZ(13,"div",8)(14,"label"),t._uU(15,"Apellido"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"div",8)(18,"label"),t._uU(19,"Usuario"),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.TgZ(21,"div",8)(22,"label"),t._uU(23,"Contrase\xf1a"),t.qZA(),t._UZ(24,"input",12),t.qZA(),t.TgZ(25,"div",8)(26,"label"),t._uU(27,"Rol(*)"),t.qZA(),t.TgZ(28,"select",13)(29,"option",14),t._uU(30,"Administrador"),t.qZA(),t.TgZ(31,"option",15),t._uU(32,"Asesor"),t.qZA(),t.TgZ(33,"option",16),t._uU(34,"Contador"),t.qZA()()(),t._UZ(35,"br"),t.TgZ(36,"div",17)(37,"button",18),t._uU(38," Guardar "),t.qZA()()()()()()()),2&o&&(t.xp6(8),t.Q6J("formGroup",r.form),t.xp6(29),t.ekj("invalidado",r.form.invalid)("validado",r.form.valid),t.Q6J("disabled",r.form.invalid))},dependencies:[s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u]}),e})();var f=i(9470),g=i(7500),P=i(9549),y=i(4144);function T(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"#"),t.qZA())}function A(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.id," ")}}function N(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," Nombre "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.nombre," ")}}function k(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," Apellido "),t.qZA())}function w(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.apellido," ")}}function Y(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," Usuario "),t.qZA())}function R(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.username," ")}}function I(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," Rol "),t.qZA())}function D(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.usertype," ")}}function q(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," estado "),t.qZA())}function F(e,n){1&e&&(t.TgZ(0,"span",31),t._uU(1,"Activado"),t.qZA())}function J(e,n){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Desactivado"),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",28),t.YNc(1,F,2,0,"span",29),t.YNc(2,J,2,0,"span",30),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",1==o.is_active),t.xp6(1),t.Q6J("ngIf",0==o.is_active)}}function z(e,n){1&e&&(t.TgZ(0,"th",33),t._uU(1,"Opciones"),t.qZA())}function E(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.modificarEstado(a.id,0))}),t._UZ(1,"i",37),t.qZA()}}function j(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit,l=t.oxw();return t.KtG(l.modificarEstado(a.id,1))}),t._UZ(1,"i",39),t.qZA()}}function G(e,n){if(1&e&&(t.TgZ(0,"td",28),t.YNc(1,E,2,0,"button",34),t.YNc(2,j,2,0,"button",35),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",1==o.is_active),t.xp6(1),t.Q6J("ngIf",0==o.is_active)}}function B(e,n){1&e&&t._UZ(0,"tr",40)}function $(e,n){1&e&&t._UZ(0,"tr",41)}const H=function(){return[5,10,20]},L=[{path:"",children:[{path:"usuario",component:(()=>{class e{constructor(o,r,a){this.usuarioService=o,this._alertServices=r,this.modalService=a,this.displayedColumns=["id","nombre","apellido","username","usertype","is_active","opciones"],this.dataSource=new c.by(this.usuarios),this.modalRef=null}ngOnInit(){this.listarUsuarios()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase()}listarUsuarios(){this.usuarioService.obtenerUsuarios().subscribe(o=>{console.log(o),this.dataSource.data=o})}modificarEstado(o,r){this.usuarioService.modificarEstadoUsuario(o,r).subscribe({next:a=>this.listarUsuarios(),error:a=>this._alertServices.alertError("A ocurrido un error")})}getUserAuth(){return this.usuarioService.getUser()}openDialog(){this.modalRef=this.modalService.open(m,{modalClass:"modal-lg"}),this.modalRef.onClose.subscribe({next:o=>{o&&this.listarUsuarios()}})}openDialogForEdit(o){this.modalRef=this.modalService.open(m,{modalClass:"modal-lg",data:{usuarioEdit:o}}),this.modalRef.onClose.subscribe({next:r=>{r&&this.listarUsuarios()}})}openDialogForDetail(o){this.modalRef=this.modalService.open(m,{modalClass:"modal-dialog-centered",data:{usuario:o}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(x),t.Y36(u.ml),t.Y36(v.Bh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],viewQuery:function(o,r){if(1&o&&(t.Gf(C.NW,5),t.Gf(d.YE,5)),2&o){let a;t.iGM(a=t.CRH())&&(r.paginator=a.first),t.iGM(a=t.CRH())&&(r.sort=a.first)}},decls:41,vars:6,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"crear"],["type","button","value","Crear","data-bs-toggle","modal","data-bs-target","#modelId",1,"btn","btn-crear"],[1,"card-body"],["appearance","standard"],["matInput","","placeholder","Buscar...",1,"form-control",3,"autocomplete","keyup"],["input",""],["mat-table","","matSort","",1,"table","table-striped",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","apellido"],["matColumnDef","username"],["matColumnDef","usertype"],["matColumnDef","is_active"],["matColumnDef","opciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge text-bg-success",4,"ngIf"],["class","badge text-bg-danger",4,"ngIf"],[1,"badge","text-bg-success"],[1,"badge","text-bg-danger"],["mat-header-cell",""],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-check"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(t._UZ(0,"app-header")(1,"app-sidebar")(2,"br"),t.TgZ(3,"div",0)(4,"section",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),t._UZ(11,"input",8),t.qZA()(),t.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"input",11,12),t.NdJ("keyup",function(l){return r.applyFilter(l)}),t.qZA()(),t.TgZ(16,"table",13),t.ynx(17,14),t.YNc(18,T,2,0,"th",15),t.YNc(19,A,2,1,"td",16),t.BQk(),t.ynx(20,17),t.YNc(21,N,2,0,"th",15),t.YNc(22,S,2,1,"td",16),t.BQk(),t.ynx(23,18),t.YNc(24,k,2,0,"th",15),t.YNc(25,w,2,1,"td",16),t.BQk(),t.ynx(26,19),t.YNc(27,Y,2,0,"th",15),t.YNc(28,R,2,1,"td",16),t.BQk(),t.ynx(29,20),t.YNc(30,I,2,0,"th",15),t.YNc(31,D,2,1,"td",16),t.BQk(),t.ynx(32,21),t.YNc(33,q,2,0,"th",15),t.YNc(34,Q,3,2,"td",16),t.BQk(),t.ynx(35,22),t.YNc(36,z,2,0,"th",23),t.YNc(37,G,3,2,"td",16),t.BQk(),t.YNc(38,B,1,0,"tr",24),t.YNc(39,$,1,0,"tr",25),t.qZA(),t._UZ(40,"mat-paginator",26),t.qZA()()()()()()()),2&o&&(t.xp6(14),t.Q6J("autocomplete",!1),t.xp6(2),t.Q6J("dataSource",r.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,H)))},dependencies:[b.O5,f.G,g.k,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,C.NW,d.YE,d.nU,P.KE,y.Nt],styles:[".incorrect[_ngcontent-%COMP%]{border-color:#ff7676;border:2px solid #ff7676}.correct[_ngcontent-%COMP%]{border:2px solid #8fe8e0;border-color:#8fe8e0}.validado[_ngcontent-%COMP%]{background-color:#8fe8e0;border-color:solid #8fe8e0;color:#fff}.invalidado[_ngcontent-%COMP%]{background-color:#ff7676;border-color:solid #ff7676;color:#fff}.acciones[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.btn-crear[_ngcontent-%COMP%]{background-color:#3498c0;border-color:#3498c0;width:5rem;color:#fff}.btn-crear[_ngcontent-%COMP%]:hover{background-color:#3498c0;border-color:#3498c0;color:#fff}.containere[_ngcontent-%COMP%]{transform:translate(+47%,+95%);padding:5px;display:flex;align-items:flex-end;justify-content:right}.buscar[_ngcontent-%COMP%]{outline:none;box-sizing:border-box;height:40px;width:0px;padding:0 20px;color:#000;border-radius:30px;font-size:20px;border:1px solid #5c4ea6;transition:all .7s ease}[_ngcontent-%COMP%]::placeholder{color:gray}.bton[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:50px;height:50px;background:#5c4ea6;line-height:10px;border-radius:60%;text-align:center;cursor:pointer;transition:.5s}.bton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff;line-height:50px;transition:all .7s ease}.containere[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{width:350px}.containere[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(-360deg)}.bton[_ngcontent-%COMP%]:hover{background:#5c4ea6}.tab[_ngcontent-%COMP%]{box-shadow:10px 10px 10px #6666;border-radius:1em;padding:10px 50px 50px}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),e})()},{path:"rol",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-rol"]],decls:6,vars:0,consts:[[1,"content-wrapper"]],template:function(o,r){1&o&&(t._UZ(0,"app-header")(1,"app-sidebar")(2,"br"),t.TgZ(3,"div",0)(4,"h1"),t._uU(5,"ROL"),t.qZA()())},dependencies:[f.G,g.k],styles:[".incorrect[_ngcontent-%COMP%]{border-color:#ff7676;border:2px solid #ff7676}.correct[_ngcontent-%COMP%]{border:2px solid #8fe8e0;border-color:#8fe8e0}.validado[_ngcontent-%COMP%]{background-color:#8fe8e0;border-color:solid #8fe8e0;color:#fff}.invalidado[_ngcontent-%COMP%]{background-color:#ff7676;border-color:solid #ff7676;color:#fff}.acciones[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.btn-crear[_ngcontent-%COMP%]{background-color:#3498c0;border-color:#3498c0;width:5rem;color:#fff}.btn-crear[_ngcontent-%COMP%]:hover{background-color:#3498c0;border-color:#3498c0;color:#fff}.containere[_ngcontent-%COMP%]{transform:translate(+47%,+95%);padding:5px;display:flex;align-items:flex-end;justify-content:right}.buscar[_ngcontent-%COMP%]{outline:none;box-sizing:border-box;height:40px;width:0px;padding:0 20px;color:#000;border-radius:30px;font-size:20px;border:1px solid #5c4ea6;transition:all .7s ease}[_ngcontent-%COMP%]::placeholder{color:gray}.bton[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:50px;height:50px;background:#5c4ea6;line-height:10px;border-radius:60%;text-align:center;cursor:pointer;transition:.5s}.bton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff;line-height:50px;transition:all .7s ease}.containere[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{width:350px}.containere[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(-360deg)}.bton[_ngcontent-%COMP%]:hover{background:#5c4ea6}.tab[_ngcontent-%COMP%]{box-shadow:10px 10px 10px #6666;border-radius:1em;padding:10px 50px 50px}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),e})()},{path:"permisos",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-permisos"]],decls:6,vars:0,consts:[[1,"content-wrapper"]],template:function(o,r){1&o&&(t._UZ(0,"app-header")(1,"app-sidebar")(2,"br"),t.TgZ(3,"div",0)(4,"h1"),t._uU(5,"PERMISOS"),t.qZA()())},dependencies:[f.G,g.k],styles:[".incorrect[_ngcontent-%COMP%]{border-color:#ff7676;border:2px solid #ff7676}.correct[_ngcontent-%COMP%]{border:2px solid #8fe8e0;border-color:#8fe8e0}.validado[_ngcontent-%COMP%]{background-color:#8fe8e0;border-color:solid #8fe8e0;color:#fff}.invalidado[_ngcontent-%COMP%]{background-color:#ff7676;border-color:solid #ff7676;color:#fff}.acciones[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.btn-crear[_ngcontent-%COMP%]{background-color:#3498c0;border-color:#3498c0;width:5rem;color:#fff}.btn-crear[_ngcontent-%COMP%]:hover{background-color:#3498c0;border-color:#3498c0;color:#fff}.containere[_ngcontent-%COMP%]{transform:translate(+47%,+95%);padding:5px;display:flex;align-items:flex-end;justify-content:right}.buscar[_ngcontent-%COMP%]{outline:none;box-sizing:border-box;height:40px;width:0px;padding:0 20px;color:#000;border-radius:30px;font-size:20px;border:1px solid #5c4ea6;transition:all .7s ease}[_ngcontent-%COMP%]::placeholder{color:gray}.bton[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:50px;height:50px;background:#5c4ea6;line-height:10px;border-radius:60%;text-align:center;cursor:pointer;transition:.5s}.bton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#fff;line-height:50px;transition:all .7s ease}.containere[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{width:350px}.containere[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:rotate(-360deg)}.bton[_ngcontent-%COMP%]:hover{background:#5c4ea6}.tab[_ngcontent-%COMP%]{box-shadow:10px 10px 10px #6666;border-radius:1em;padding:10px 50px 50px}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),e})()},{path:"**",redirectTo:"usuario",pathMatch:"full"}],canActivateChild:[u.uy]}];let X=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[_.Bz.forChild(L),_.Bz]}),e})();var K=i(5415);let V=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[b.ez,X,s.UX,U.m,K.T]}),e})()}}]);